<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作业批阅 - 智慧助教平台</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { /* From Design Spec */ slate: { 900: '#1e293b', 800: '#2d3748', 700: '#374151', 600: '#4b5563', 100: '#f1f5f9', 300: '#cbd5e1', 400: '#94a3b8', 500: '#64748b', 200:'#e2e8f0' }, blue: { 400: '#60a5fa', 300: '#93c5fd', 600: '#2563eb', 700: '#1d4ed8', 500: '#3b82f6' }, green: { 500: '#22c55e', 600: '#16a34a'}, yellow: {500: '#eab308'}, red: {500: '#ef4444'} }
                }
            }
        }
    </script>
    <style>
        /* For PDF viewer iframe or image preview */
        .submission-preview {
            min-height: 60vh; /* Ensure it takes up significant space */
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 antialiased">

    <div class="flex h-screen">
        <aside class="w-64 bg-slate-800 p-6 space-y-6 border-r border-slate-700 flex flex-col justify-between">
            <div>
                <div class="text-center mb-10">
                     <div class="inline-block p-3 bg-blue-600 rounded-full mb-2">
                        <i class="fas fa-seedling fa-2x text-white"></i>
                    </div>
                    <h1 class="text-xl font-semibold text-white">智慧助教平台</h1>
                    <span class="text-xs text-slate-400">教师端</span>
                </div>
                <nav class="space-y-2">
                    <a href="teacher_dashboard.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-tachometer-alt fa-fw"></i>
                        <span>仪表盘</span>
                    </a>
                    <a href="teacher_resource_management.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-book fa-fw"></i>
                        <span>教学资源</span>
                    </a>
                    <a href="teacher_lesson_planning.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-edit fa-fw"></i>
                        <span>在线备课</span>
                    </a>
                    <a href="teacher_assignment_creation.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-tasks fa-fw"></i>
                        <span>作业管理</span>
                    </a>
                     <a href="teacher_assignment_grading.html" class="flex items-center space-x-3 px-4 py-2.5 bg-blue-600 text-white rounded-lg shadow-md">
                        <i class="fas fa-marker fa-fw"></i>
                        <span>作业批阅</span>
                    </a>
                    <a href="teacher_student_progress_overview.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-chart-line fa-fw"></i>
                        <span>学情分析</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-bullhorn fa-fw"></i>
                        <span>通知公告</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                        <i class="fas fa-comments fa-fw"></i>
                        <span>课堂互动</span>
                         <span class="text-xs bg-yellow-500 text-slate-900 px-1.5 py-0.5 rounded-full">V1.1</span>
                    </a>
                </nav>
            </div>
            <div class="space-y-2 border-t border-slate-700 pt-6">
                 <a href="#" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors">
                    <i class="fas fa-cog fa-fw"></i>
                    <span>设置</span>
                </a>
                <a href="login.html" class="flex items-center space-x-3 px-4 py-2.5 text-slate-300 hover:bg-red-600 hover:text-white rounded-lg transition-colors">
                    <i class="fas fa-sign-out-alt fa-fw"></i>
                    <span>退出登录</span>
                </a>
            </div>
        </aside>

        <main class="flex-1 p-6 md:p-8 overflow-y-auto bg-slate-900 flex flex-col md:flex-row gap-6">
            <div class="w-full md:w-1/3 lg:w-1/4 bg-slate-800 rounded-lg shadow-lg p-6 flex flex-col">
                <div class="mb-4 pb-4 border-b border-slate-700">
                    <div class="flex items-center mb-2">
                        <a href="teacher_assignment_creation.html" class="text-slate-400 hover:text-slate-200 mr-2"><i class="fas fa-arrow-left"></i></a>
                        <h3 class="text-xl font-semibold text-white truncate" title="实验报告：土壤pH值测定">实验报告：土壤pH值测定</h3>
                    </div>
                    <p class="text-xs text-slate-400">班级: 环监2302班</p>
                    <p class="text-xs text-slate-400">截止日期: 2025-05-15 (已截止)</p>
                    <div class="mt-2 text-xs">
                        <span class="font-medium text-slate-200">28/29</span> <span class="text-slate-400">已提交</span> |
                        <span class="font-medium text-slate-200">15</span> <span class="text-slate-400">已批阅</span> |
                        <span class="font-medium text-red-400">13</span> <span class="text-slate-400">待批阅</span>
                    </div>
                </div>

                <div class="mb-4">
                    <select id="filterSubmissions" class="w-full py-2 px-3 bg-slate-700 border border-slate-600 rounded-md text-slate-100 focus:ring-blue-500 focus:border-blue-500 text-sm">
                        <option value="all">所有提交 (29)</option>
                        <option value="graded">已批阅 (15)</option>
                        <option value="pending" selected>待批阅 (13)</option>
                        <option value="late">迟交 (1)</option>
                        <option value="not_submitted">未提交 (1)</option>
                    </select>
                </div>

                <div class="space-y-2 overflow-y-auto flex-grow pr-1">
                    <div class="p-3 bg-blue-600 rounded-md shadow cursor-pointer flex justify-between items-center">
                        <div>
                            <h4 class="font-medium text-white text-sm">李小明 (202301001)</h4>
                            <p class="text-xs text-blue-200">提交于: 2025-05-14 23:30</p>
                        </div>
                        <span class="text-xs text-white">--/100</span>
                    </div>
                    <div class="p-3 bg-slate-700 hover:bg-slate-600 rounded-md shadow cursor-pointer flex justify-between items-center">
                        <div>
                            <h4 class="font-medium text-slate-200 text-sm">张三 (202301002)</h4>
                            <p class="text-xs text-slate-400">提交于: 2025-05-13 10:15 <span class="text-green-400">(已批阅)</span></p>
                        </div>
                         <span class="text-sm font-semibold text-green-400">85/100</span>
                    </div>
                    <div class="p-3 bg-slate-700 hover:bg-slate-600 rounded-md shadow cursor-pointer flex justify-between items-center">
                        <div>
                            <h4 class="font-medium text-slate-200 text-sm">王小花 (202301003)</h4>
                            <p class="text-xs text-slate-400">提交于: 2025-05-16 08:00 <span class="text-yellow-400">(迟交)</span></p>
                        </div>
                        <span class="text-xs text-yellow-400">待批阅</span>
                    </div>
                     <div class="p-3 bg-slate-700 hover:bg-slate-600 rounded-md shadow cursor-pointer flex justify-between items-center opacity-60">
                        <div>
                            <h4 class="font-medium text-slate-300 text-sm">赵四 (202301004)</h4>
                            <p class="text-xs text-slate-500">--</p>
                        </div>
                        <span class="text-xs text-red-400">未提交</span>
                    </div>
                    <div class="p-3 bg-slate-700 hover:bg-slate-600 rounded-md shadow cursor-pointer flex justify-between items-center">
                        <div>
                            <h4 class="font-medium text-slate-200 text-sm">周五 (202301005)</h4>
                            <p class="text-xs text-slate-400">提交于: 2025-05-14 15:00</p>
                        </div>
                        <span class="text-xs text-slate-400">待批阅</span>
                    </div>
                </div>
                <div class="mt-4 pt-4 border-t border-slate-700 flex justify-between">
                    <button class="text-sm text-blue-400 hover:underline disabled:opacity-50" disabled><i class="fas fa-chevron-left mr-1"></i> 上一个</button>
                    <button class="text-sm text-blue-400 hover:underline">下一个 <i class="fas fa-chevron-right ml-1"></i></button>
                </div>
            </div>

            <div class="flex-1 bg-slate-850 rounded-lg shadow-lg p-6 md:p-8 flex flex-col">
                <header class="mb-6 pb-4 border-b border-slate-700">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl font-bold text-white">批阅作业：李小明</h2>
                            <p class="text-sm text-slate-400">学号: 202301001 | <a href="#" class="text-blue-400 hover:underline">查看学生档案</a></p>
                        </div>
                        <div class="flex items-center space-x-2 text-sm">
                            <span class="text-slate-400">状态:</span>
                            <span class="font-semibold text-yellow-400">待批阅</span>
                        </div>
                    </div>
                </header>

                <div class="flex-grow mb-6">
                    <h4 class="text-lg font-semibold text-white mb-2">提交内容</h4>
                     <div class="mb-3">
                        <p class="text-sm text-slate-300">学生提交的文件：</p>
                        <div class="mt-1 flex items-center space-x-3 p-2 bg-slate-700 rounded-md w-fit">
                            <i class="far fa-file-pdf fa-lg text-red-400"></i>
                            <span class="text-sm text-slate-100">实验报告-李小明.pdf</span>
                            <a href="#" class="text-xs text-blue-400 hover:underline" title="下载此文件"><i class="fas fa-download"></i></a>
                        </div>
                    </div>
                    <div class="submission-preview bg-slate-900 border border-slate-700 rounded-md flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1517842645767-c6f9040e9746?q=80&w=800&auto=format&fit=crop" alt="学生作业预览图" class="max-w-full max-h-[60vh] object-contain rounded-md">
                        </div>
                    <p class="text-xs text-slate-500 mt-2 text-center">（此处为学生作业内容预览区域，支持PDF在线预览或图片展示。原型使用占位图片。）</p>
                </div>

                <form class="space-y-4 border-t border-slate-700 pt-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                        <div class="md:col-span-1">
                            <label for="gradeScore" class="block text-sm font-medium text-slate-300 mb-1">评分 <span class="text-red-400">*</span></label>
                            <div class="flex items-center">
                                <input type="number" id="gradeScore" name="gradeScore" class="w-24 bg-slate-700 border border-slate-600 rounded-l-md text-slate-100 py-2 px-3 focus:ring-blue-500 focus:border-blue-500 text-center" placeholder="--" min="0" max="100">
                                <span class="px-3 py-2 bg-slate-600 border border-l-0 border-slate-600 text-slate-300 rounded-r-md">/ 100</span>
                            </div>
                        </div>
                        <div class="md:col-span-2">
                             <label for="quickFeedback" class="block text-sm font-medium text-slate-300 mb-1">快捷评语 (可选)</label>
                             <select id="quickFeedback" name="quickFeedback" class="w-full bg-slate-700 border border-slate-600 rounded-md text-slate-100 py-2 px-3 focus:ring-blue-500 focus:border-blue-500">
                                <option value="">选择或自定义...</option>
                                <option value="excellent">优秀，内容详实，分析透彻！</option>
                                <option value="good">良好，基本掌握，细节有待提高。</option>
                                <option value="average">一般，请注意xx问题，加强理解。</option>
                                <option value="needs_improvement">有较大提升空间，请仔细阅读反馈。</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label for="detailedFeedback" class="block text-sm font-medium text-slate-300 mb-1">详细评语与反馈 <span class="text-red-400">*</span></label>
                        <textarea id="detailedFeedback" name="detailedFeedback" rows="4" class="w-full bg-slate-700 border border-slate-600 rounded-md text-slate-100 placeholder-slate-400 py-2 px-3 focus:ring-blue-500 focus:border-blue-500" placeholder="请在此处输入对学生作业的详细评价和改进建议..."></textarea>
                    </div>

                    <div class="flex items-center space-x-3">
                        <label for="feedbackAttachment" class="text-sm font-medium text-slate-300">反馈附件 (可选):</label>
                        <label for="feedbackFile" class="cursor-pointer text-sm bg-slate-600 hover:bg-slate-500 text-slate-200 py-1.5 px-3 rounded-md">
                            <i class="fas fa-paperclip mr-1"></i> 添加文件
                            <input id="feedbackFile" name="feedbackFile" type="file" class="sr-only">
                        </label>
                        <span id="feedbackFileName" class="text-xs text-slate-400"></span>
                    </div>

                    <div class="pt-4 flex flex-col sm:flex-row gap-3">
                         <button type="submit" class="w-full sm:w-auto inline-flex justify-center items-center rounded-md border border-transparent shadow-sm px-6 py-2.5 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-slate-800 focus:ring-green-500">
                            <i class="fas fa-check-circle mr-2"></i> 保存并提交批阅
                        </button>
                        <button type="button" class="w-full sm:w-auto inline-flex justify-center items-center rounded-md border border-slate-600 shadow-sm px-6 py-2.5 bg-slate-700 text-base font-medium text-slate-300 hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-slate-800 focus:ring-slate-500">
                            仅保存评语 (暂不提交)
                        </button>
                        <button type="button" class="w-full sm:w-auto sm:ml-auto inline-flex justify-center items-center rounded-md border border-transparent px-6 py-2.5 text-base font-medium text-red-500 hover:text-red-400">
                            <i class="fas fa-undo mr-2"></i> 打回重做
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>
    <script>
        // Basic JS for file input name display
        const feedbackFileInput = document.getElementById('feedbackFile');
        const feedbackFileNameSpan = document.getElementById('feedbackFileName');
        if (feedbackFileInput && feedbackFileNameSpan) {
            feedbackFileInput.addEventListener('change', function() {
                if (this.files.length > 0) {
                    feedbackFileNameSpan.textContent = this.files[0].name;
                } else {
                    feedbackFileNameSpan.textContent = '';
                }
            });
        }
    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>